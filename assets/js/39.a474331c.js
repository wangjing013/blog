(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{458:function(t,s,a){t.exports=a.p+"assets/img/Channel.f9adc640.png"},459:function(t,s,a){t.exports=a.p+"assets/img/umeng.f2cd3e1e.png"},503:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"构建不同-channel-包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建不同-channel-包"}},[t._v("#")]),t._v(" 构建不同 Channel 包")]),t._v(" "),s("h2",{attrs:{id:"使用-uniapp-内置的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-uniapp-内置的"}},[t._v("#")]),t._v(" 使用 uniapp 内置的")]),t._v(" "),s("p",[t._v("对应 HBuilderX 下，Menu > Build > Cloud Packaging")]),t._v(" "),s("img",{attrs:{src:a(458)}}),t._v(" "),s("p",[t._v("如上图所示:")]),t._v(" "),s("p",[t._v("HBuilderX 默认提供 7 个渠道（Google、360、小米、华为、应用宝、vivo、oppo），更多可以在manifest.json文件中【源码视图】进行配置。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("默认渠道")]),t._v(" "),s("th",[t._v("渠道标识ID")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("GooglePlay")]),t._v(" "),s("td",[t._v("google")])]),t._v(" "),s("tr",[s("td",[t._v("应用宝")]),t._v(" "),s("td",[t._v("yyb")])]),t._v(" "),s("tr",[s("td",[t._v("360应用市场")]),t._v(" "),s("td",[t._v("360")])]),t._v(" "),s("tr",[s("td",[t._v("华为应用商店")]),t._v(" "),s("td",[t._v("huawei")])]),t._v(" "),s("tr",[s("td",[t._v("小米应用商店")]),t._v(" "),s("td",[t._v("xiaomi")])]),t._v(" "),s("tr",[s("td",[t._v("vivo应用商店")]),t._v(" "),s("td",[t._v("vivo")])]),t._v(" "),s("tr",[s("td",[t._v("oppo应用商店")]),t._v(" "),s("td",[t._v("oppo")])])])]),t._v(" "),s("p",[t._v("注意：提交谷歌应用市场（Google Play）时一定要将渠道标识设置为google，即一定要选择打包界面里的google渠道，否则会无法提交到play store")]),t._v(" "),s("h2",{attrs:{id:"自定义-channel-包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义-channel-包"}},[t._v("#")]),t._v(" 自定义 Channel 包")]),t._v(" "),s("p",[t._v("默认的渠道数量不够使，想要更多渠道？")]),t._v(" "),s("p",[t._v("在 manifest.json【源码视图】中， 根节点增加 "),s("code",[t._v("channel_list")]),t._v(" 字段.")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"channel_list"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("注意，"),s("code",[t._v("channel_list")]),t._v(" 添加在根节点")])]),t._v(" "),s("p",[t._v("比如:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"channel_list"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chuizi"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"锤子应用市场"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("，\n               "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meizu"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"魅族应用市场"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("配置后会在上面的云端打包界面显示自定义渠道，提交云端打包时需要勾选才能生效。")]),t._v(" "),s("h2",{attrs:{id:"代码中根据不同渠道添加个性化参数或功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码中根据不同渠道添加个性化参数或功能"}},[t._v("#")]),t._v(" 代码中根据不同渠道添加个性化参数或功能")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取渠道 ID")]),t._v("\nplus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("channel\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此方法可获取基本的app信息，如版本号，名称等")]),t._v("\nplus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtime\n")])])]),s("h2",{attrs:{id:"整合-umeng-对不同的渠道包进行数据分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#整合-umeng-对不同的渠道包进行数据分析"}},[t._v("#")]),t._v(" 整合 "),s("code",[t._v("umeng")]),t._v(" 对不同的渠道包进行数据分析")]),t._v(" "),s("p",[t._v("默认 "),s("code",[t._v("HbulderX")]),t._v(" 中提供对"),s("code",[t._v("友盟SDK")]),t._v("支持，在使用时只需要通过简单的配置即可。")]),t._v(" "),s("p",[t._v("首先打开 "),s("code",[t._v("manifest.json")]),t._v(" 的可视化视图界面，进入 "),s("code",[t._v("App模块配置")]),t._v(" -> "),s("code",[t._v("勾选 Statistic")]),t._v(" -> "),s("code",[t._v("再勾选 友盟统计")]),t._v(" 如下:")]),t._v(" "),s("img",{attrs:{src:a(459)}}),t._v(" "),s("p",[t._v("从上图中可以看到需要填写项 "),s("code",[t._v("appkey_ios")]),t._v("、"),s("code",[t._v("channelid_ios")]),t._v(" 、"),s("code",[t._v("appkey_android")]),t._v("、"),s("code",[t._v("channelid_android")]),t._v("，其中 "),s("code",[t._v("appkey_ios")]),t._v("、"),s("code",[t._v("channelid_android")]),t._v(" 是必填项。 对应的是您在 "),s("a",{attrs:{href:"https://mobile.umeng.com/platform/apps/list",target:"_blank",rel:"noopener noreferrer"}},[t._v("友盟后台"),s("OutboundLink")],1),t._v(" 申请的应用ID。")]),t._v(" "),s("p",[s("code",[t._v("channelid_ios")]),t._v("，"),s("code",[t._v("channelid_android")]),t._v(" 可选，属性的作用用于区分来自不同渠道 APP。ios 基本只有一个渠道，android 渠道相应多点，比如"),s("code",[t._v("应用宝")]),t._v("、"),s("code",[t._v("华为")]),t._v("、"),s("code",[t._v("小米")]),t._v("、"),s("code",[t._v("viov")]),t._v("、"),s("code",[t._v("oppe")]),t._v(" 等。")]),t._v(" "),s("p",[t._v("同样进入可视化视图之后可以看到如下配置内容:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sdkConfigs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"statics"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"umeng"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"appkey_ios"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"******************"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"channelid_ios"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iOS平台的渠道字符串，可输入任意字符串"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"appkey_android"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"******************"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"channelid_android"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"huawei"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("集成成功之后，开始进行进入 "),s("code",[t._v("coding")]),t._v(" 阶段，那么在代码中如何进行数据的上报呢 ？ "),s("a",{attrs:{href:"https://www.html5plus.org/doc/zh_cn/statistic.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("plus.statistic")]),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("plus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statistic"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eventTrig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eventName"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"事件参数"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("eventName: 是在友盟定义的事件名称。")]),t._v(" "),s("li",[t._v("params: 自定义，需要上报到友盟的数据体。")])]),t._v(" "),s("blockquote",[s("p",[t._v("⚠️注意：配置完成后，要用自己的 app 证书等信息，打包自定义调试基座，或者云打包正式 app 后才能生效。")])]),t._v(" "),s("h2",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),s("ul",[s("li",[t._v("uniapp 进行云打包的时候，如果友盟上报需要区分不同渠道，则需要一个一个进行打包。")]),t._v(" "),s("li",[t._v("uniapp 上报的数据实时性的问题，友盟对于部分数据时性需要是付费用户。 当天上报的可能存在看不到的现象。")])]),t._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://tongji.dcloud.net.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-app如何在uni统计后台查看渠道数据"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35974",target:"_blank",rel:"noopener noreferrer"}},[t._v("云打包如何打渠道包"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);