# Nuxtjs 与 Vue 关系

Nuxt 使用 ``Vue.js``，并在其之上增加了组件自动导入、基于文件系统的路由方式，以及提供对 ``SSR`` 友好的``组合式 API`` 等特性。

Nuxt 选择 Vue 的主要原因：

* ``响应式``：Vue 的响应式模型，当修改数据时会自动触发视图更新
* ``模板与组件``：  基于组件的模板体系，同时把 HTML 作为网页的通用语言，模式直观且强大
* ``性能``： 从小型到大型应用，Vue 在规模化下依然表现良好

## 在 Nuxt 中使用 Vue

### 单文件组件

Vue 的单文件组件（SFC，或 *.vue 文件）将模板（template）、逻辑（script）和样式（style）封装在一起。 Nuxt 为 SFC 提供零配置的热模块替换（HMR），带来无缝的开发体验。

### 组件自动导入

在 ``app/components`` 目录下创建的组件会被 ``Nuxt`` 自动导入，无需手动导入。 未被使用的组件不会被打包进生产代码中。

### Vue Router

通常大多数应用都包含多个页面，并且需要在页面之间进行导航。Nuxt 使用 ``app/pages`` 目录和文件命名约定，基于官方的 ``Vue Router`` 自动生成对应的路由，从而减少了手动配置路由的工作量。

## 与 Nuxt2 / Vue2 的不同点

``Nuxt3+`` 基于 ``Vue 3``。新的 Vue 主版本引入了多项变化，Nuxt 充分利用了这些变化：

* 更好的性能
* 组合式 API
* TypeScript 支持

### 更快渲染

``Vue`` 的虚拟 ``DOM（VDOM）`` 已经从头进行了重写，带来了更好的渲染性能。除此之外，在使用编译后的单文件组件（SFC）时，``Vue 编译器``还能在构建阶段通过分离静态和动态标记进一步进行优化。
这不仅能提升首次渲染（组件创建）和更新的速度，还能减少内存占用。在 ``Nuxt 3`` 中，这同样带来了更快的服务端渲染性能。

### 更小的打包体积

在 ``Vue 3`` 和 ``Nuxt 3`` 中，重点之一就是减小打包体积。自 ``Vue 3`` 起，大部分功能（包括模板指令和内置组件）都支持 ``tree-shaking``。如果你没有使用它们，它们就不会被打包进生产环境的代码中。

通过这种方式，一个最小化的 ``Vue 3`` 应用在压缩（gzip）后可以缩减到 ``12 KB``。

### 组合式 API

* 更好的逻辑复用：方便在不同组件之间共享与复用逻辑。
* 更清晰的代码组织：相同功能逻辑的代码能集中在一起，更易读、更易维护。

### 支持 TypeScript 

``Vue3`` 和 ``Nuxt3`` 都是用的 ``TypeScript`` 进行编写的。完整的类型化代码库不仅能减少错误，还能为 ``API`` 的使用提供文档说明。

虽然都是通过 TypeScript 编写的，但并不意味着你必须使用 ``TypeScript`` 来编写应用程序。在 ``Nuxt3`` 中，你只需要将文件扩展名从 ``.js`` 改为 ``.ts``，或者在组件中添加 ``<script setup lang="ts">``，
就可以选择性地使用 ``TypeScript``。


## 总结

**Nuxt 与 Vue 的关系**

* Nuxt 基于 Vue.js 构建，在其之上提供了自动导入组件、基于文件系统的路由、SSR 友好的组合式 API 等增强功能。
* 选择 Vue 的原因：

  * **响应式**：数据变更自动触发视图更新
  * **模板与组件**：直观且强大的组件化开发模式
  * **性能**：无论小型还是大型应用，表现稳定

**在 Nuxt 中使用 Vue**

* **单文件组件（SFC）**：支持模板、逻辑、样式封装，并内置零配置 HMR
* **组件自动导入**：放在 `components/` 的组件可自动引入，未使用不会打包
* **文件系统路由**：`pages/` 目录下的文件会自动映射为路由

**Nuxt2 与 Nuxt3 的区别**

* **性能更优**：重写虚拟 DOM，优化静态与动态标记
* **更小体积**：支持 tree-shaking，最小应用仅 12 KB（gzip）
* **组合式 API**：更好的逻辑复用与代码组织
* **TypeScript 支持**：核心使用 TS 编写，用户可按需选择性使用

